// This file is auto-generated by @hey-api/openapi-ts

import type {
  GetApiV1AnalogueModelsByIdResponse,
  GetApiV1JobsResponse,
  PostApiV1UploadsModelsManifestResponse,
} from './types.gen';

const analogueModelDetailSchemaResponseTransformer = (data: any) => {
  if (data.createdDate) {
    data.createdDate = new Date(data.createdDate);
  }
  if (data.lastModifiedDate) {
    data.lastModifiedDate = new Date(data.lastModifiedDate);
  }
  return data;
};

const getAnalogueModelQueryResponseSchemaResponseTransformer = (data: any) => {
  data.data = analogueModelDetailSchemaResponseTransformer(data.data);
  return data;
};

export const getApiV1AnalogueModelsByIdResponseTransformer = async (
  data: any,
): Promise<GetApiV1AnalogueModelsByIdResponse> => {
  data = getAnalogueModelQueryResponseSchemaResponseTransformer(data);
  return data;
};

const jobListSchemaResponseTransformer = (data: any) => {
  data.updated = new Date(data.updated);
  return data;
};

const getJobListQueryResponseSchemaResponseTransformer = (data: any) => {
  data.data = data.data.map((item: any) => {
    return jobListSchemaResponseTransformer(item);
  });
  return data;
};

export const getApiV1JobsResponseTransformer = async (
  data: any,
): Promise<GetApiV1JobsResponse> => {
  data = getJobListQueryResponseSchemaResponseTransformer(data);
  return data;
};

const prepareChunkedUploadDtoSchemaResponseTransformer = (data: any) => {
  data.fileSize = BigInt(data.fileSize.toString());
  return data;
};

const prepareChunkedUploadCommandResponseSchemaResponseTransformer = (
  data: any,
) => {
  data.data = prepareChunkedUploadDtoSchemaResponseTransformer(data.data);
  return data;
};

export const postApiV1UploadsModelsManifestResponseTransformer = async (
  data: any,
): Promise<PostApiV1UploadsModelsManifestResponse> => {
  data = prepareChunkedUploadCommandResponseSchemaResponseTransformer(data);
  return data;
};
